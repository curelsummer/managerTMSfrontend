webpackJsonp([105],{WjL6:function(t,a){},uA9P:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=e("Dd8w"),s=e.n(i),n={name:"House",data:function(){return{page:{current:1,total:0,size:999},dataList:[],deviceList:[],loading:!1,checkFlag:"1",series:[{name:"Series 1",data:[80,50,30,40,100,20]}],chartOptions:{chart:{height:350,type:"radar"},title:{text:"Basic Radar Chart"},xaxis:{categories:["January","February","March","April","May","June"]}},series1:[],chartOptions1:{chart:{type:"bar",height:300},title:{text:"本日数据统计",align:"left"},plotOptions:{bar:{horizontal:!1,columnWidth:"55%"}},dataLabels:{enabled:!1},stroke:{show:!0,width:2,colors:["transparent"]},xaxis:{categories:[]},yaxis:{title:{text:""}},fill:{opacity:1},tooltip:{y:{formatter:function(t){return t+" 条"}}}}}},watch:{checkFlag:function(t){this.selectSchoolRate(t)}},mounted:function(){this.fetch()},methods:{selectHistoryByDevice:function(t){var a=this;this.$get("/cos/device-history-info/selectHistoryByDevice",{deviceId:t}).then(function(t){var e=[];if(null!==t.data.data&&0!==t.data.data.length){0===a.chartOptions1.xaxis.categories.length&&(a.chartOptions1.xaxis.categories=t.data.data.map(function(t){return t.date}));var i={name:"统计",data:t.data.data.map(function(t){return t.value})};e.push(i),a.series1=e}})},selectDeviceList:function(){var t=this;this.$get("/cos/device-info/list").then(function(a){t.deviceList=a.data.data,t.loading=!1})},selectSchoolRate:function(t){var a=this;this.loading=!0,this.$get("/cos/score-line-info/selectSchoolRate/type/"+t).then(function(t){a.dataList=t.data.data,a.loading=!1})},pageChange:function(t,a){this.page.size=a,this.page.current=t,this.fetch()},fetch:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.loading=!0,a.size=this.page.size,a.current=this.page.current,this.$get("/cos/device-info/page",s()({},a)).then(function(a){var e=a.data.data,i=s()({},t.pagination);i.total=e.total,t.dataList=e.records,t.page=i,t.loading=!1})}}},o={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticStyle:{width:"100%"}},[e("a-row",{staticStyle:{"margin-top":"25px"}},[e("a-col",{attrs:{span:24}},[e("a-skeleton",{attrs:{loading:t.loading,active:"",paragraph:{rows:10}}}),t._v(" "),t.loading?t._e():e("a-alert",{staticStyle:{"margin-bottom":"15px"},attrs:{message:"设备上报历史统计",type:"info","close-text":"Close Now"}}),t._v(" "),t.loading?t._e():e("a-row",{attrs:{gutter:15}},[e("a-col",{attrs:{span:6}},[e("a-list",{attrs:{"data-source":t.dataList,bordered:""},scopedSlots:t._u([{key:"renderItem",fn:function(a,i){return e("a-list-item",{},[e("a-list-item-meta",[e("a",{attrs:{slot:"title"},on:{click:function(e){return t.selectHistoryByDevice(a.id)}},slot:"title"},[t._v(t._s(a.name)+" "),e("span",{staticStyle:{"font-size":"13px"}},[t._v(t._s(a.code))])]),t._v(" "),e("div",{staticStyle:{"font-size":"13px"},attrs:{slot:"description"},slot:"description"},[e("div",{staticStyle:{"margin-top":"10px"}},[t._v("设备类型："+t._s(a.typeName))]),t._v(" "),e("div",{staticStyle:{"margin-top":"8px"}},[t._v("所属用户："+t._s(a.userName))]),t._v(" "),e("div",{staticStyle:{"margin-top":"8px"}},[e("a-row",{attrs:{gutter:8}},[e("a-col",{attrs:{span:20}},[t._v("\n                          上次在线时间："+t._s(a.lastOpenDate?a.lastOpenDate:"- -")+"\n                        ")]),t._v(" "),e("a-col",{attrs:{span:4}},[0==a.openFlag?e("a-tag",{attrs:{size:"mini",color:"pink"}},[t._v("状态：关")]):t._e(),t._v(" "),1==a.openFlag?e("a-tag",{attrs:{size:"mini",color:"blue"}},[t._v("状态：开")]):t._e()],1)],1)],1)])])],1)}}],null,!1,193164670)})],1),t._v(" "),e("a-col",{attrs:{span:18}},[e("div",{staticStyle:{background:"#ECECEC",padding:"30px"}},[e("a-card",{staticStyle:{width:"100%"},attrs:{hoverable:"",bordered:!1}},[t.loading?e("a-skeleton",{attrs:{active:""}}):t._e(),t._v(" "),t.loading?t._e():e("apexchart",{attrs:{type:"bar",height:"300",options:t.chartOptions1,series:t.series1}})],1)],1)])],1)],1)],1)],1)},staticRenderFns:[]},r=e("VU/8")(n,o,!1,function(t){e("WjL6")},"data-v-074813ea",null);a.default=r.exports}});